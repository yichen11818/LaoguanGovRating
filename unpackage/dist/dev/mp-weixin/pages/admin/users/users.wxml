<view id="{{ag}}" change:eS="{{uV.sS}}" eS="{{$eS[ag]}}" change:eA="{{uV.sA}}" eA="{{$eA[ag]}}" class="{{['container', virtualHostClass]}}" style="{{virtualHostStyle}}" hidden="{{virtualHostHidden || false}}"><view class="filter-bar"><view class="filter-item"><picker bindchange="{{b}}" value="{{c}}" range="{{d}}" range-key="name"><view class="picker-box"><text class="picker-text">{{a}}</text><text class="picker-arrow">▼</text></view></picker></view><view class="action-btns"><button class="add-btn" size="mini" bindtap="{{e}}">新增用户</button></view></view><view class="user-list"><view wx:if="{{f}}" class="no-data"><image class="no-data-icon" src="{{g}}" mode="aspectFit"></image><text class="no-data-text">暂无用户</text></view><view wx:for="{{h}}" wx:for-item="user" wx:key="j" class="user-item"><view class="user-info"><view class="info-row"><text class="user-name">{{user.a}}</text><text class="{{['user-role', user.c]}}">{{user.b}}</text></view><view class="info-row"><text class="user-username">账号：{{user.d}}</text></view></view><view class="user-actions"><view class="action-btn" bindtap="{{user.e}}"><text class="action-text">编辑</text></view><view class="action-btn" bindtap="{{user.f}}"><text class="action-text">更改角色</text></view><view wx:if="{{user.g}}" class="action-btn delete" bindtap="{{user.h}}"><text class="action-text">删除</text></view><view class="action-btn reset-btn" bindtap="{{user.i}}">重置密码</view></view></view></view><view wx:if="{{i}}" class="load-more"><button class="load-btn" size="mini" bindtap="{{j}}" loading="{{k}}">加载更多</button></view><view wx:if="{{l}}" class="popup-overlay" bindtap="{{m}}"></view><view wx:if="{{n}}" class="popup-content"><view class="popup-title">新增用户</view><view class="form-item"><text class="form-label">用户名</text><input class="form-input" placeholder="请输入用户名" value="{{o}}" bindinput="{{p}}"/></view><view class="form-item"><text class="form-label">密码</text><input type="password" class="form-input" placeholder="请输入密码" value="{{q}}" bindinput="{{r}}"/></view><view class="form-item"><text class="form-label">姓名</text><input class="form-input" placeholder="请输入姓名" value="{{s}}" bindinput="{{t}}"/></view><view class="form-item"><text class="form-label">角色</text><picker bindchange="{{w}}" value="{{x}}" range="{{y}}" range-key="name"><view class="form-picker"><text>{{v}}</text><text class="picker-arrow">▼</text></view></picker></view><view class="popup-btns"><button class="cancel-btn" size="mini" bindtap="{{z}}">取消</button><button class="confirm-btn" size="mini" bindtap="{{A}}">确定</button></view></view><view wx:if="{{B}}" class="popup-overlay" bindtap="{{C}}"></view><view wx:if="{{D}}" class="popup-content"><view class="popup-title">编辑用户</view><view class="form-item"><text class="form-label">用户名</text><input class="form-input" placeholder="请输入用户名" disabled value="{{E}}" bindinput="{{F}}"/></view><view class="form-item"><text class="form-label">姓名</text><input class="form-input" placeholder="请输入姓名" value="{{G}}" bindinput="{{H}}"/></view><view class="form-item"><text class="form-label">重置密码</text><input type="password" class="form-input" placeholder="留空表示不修改密码" value="{{I}}" bindinput="{{J}}"/></view><view class="popup-btns"><button class="cancel-btn" size="mini" bindtap="{{K}}">取消</button><button class="confirm-btn" size="mini" bindtap="{{L}}">确定</button></view></view><view wx:if="{{M}}" class="popup-overlay" bindtap="{{N}}"></view><view wx:if="{{O}}" class="popup-content"><view class="popup-title">更改角色</view><view class="form-item"><text class="form-label">当前用户</text><text class="current-user">{{P}}</text></view><view class="form-item"><text class="form-label">当前角色</text><text class="{{['current-role', R]}}">{{Q}}</text></view><view class="form-item"><text class="form-label">新角色</text><picker bindchange="{{T}}" value="{{U}}" range="{{V}}" range-key="name"><view class="form-picker"><text>{{S}}</text><text class="picker-arrow">▼</text></view></picker></view><view class="popup-btns"><button class="cancel-btn" size="mini" bindtap="{{W}}">取消</button><button class="confirm-btn" size="mini" bindtap="{{X}}">确定</button></view></view><view wx:if="{{Y}}" class="popup-overlay" bindtap="{{Z}}"></view><view wx:if="{{aa}}" class="popup-content"><view class="popup-title">密码重置成功</view><view class="reset-content"><text>用户 {{ab}} ({{ac}}) 的密码已重置。</text><view class="new-password"><text class="password-label">新密码：</text><text class="password-value">{{ad}}</text></view></view><view class="popup-btns"><button class="cancel-btn" size="mini" bindtap="{{ae}}">复制密码</button><button class="confirm-btn" size="mini" bindtap="{{af}}">确认</button></view></view></view><wxs src="/common/uniView.wxs" module="uV"/>
